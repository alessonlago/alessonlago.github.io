<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>minha linlin üíò</title>
    <style>
        /* ====== CONFIGURA√á√ÉO VISUAL GERAL ====== */
        :root {
            --card-bg: rgba(0, 0, 0, .60);
            --card-text: #fff;
            --accent: #ff8ab5;
            --accent-2: #ffd1e6;
            --shadow: 0 10px 40px rgba(0, 0, 0, .35);
            --radius: 18px;
            --maxw: 720px;
        }

        /* Fundo com a sua colagem/est√©tica */
        body {
            margin: 0;
            min-height: 100dvh;
            color: var(--card-text);
            background:
                /* ======= TROCAR AQUI O FUNDO ======= */
                /* Coloque a URL/arquivo da SUA colagem no background-image. */
                url("https://i.ibb.co/DnN9dQJ/Untitled-image.png") center/cover no-repeat fixed;
            font-family: system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }

        /* Overlay para dar contraste ao texto sobre o fundo */
        .scrim {
            position: fixed;
            inset: 0;
            background: radial-gradient(1200px 800px at 50% 40%, rgba(0, 0, 0, .15), rgba(0, 0, 0, .65));
            pointer-events: none;
        }

        /* Container central das janelas */
        .wrap {
            position: relative;
            display: grid;
            place-items: center;
            min-height: 100dvh;
            padding: 24px;
        }

        .card {
            width: min(100%, var(--maxw));
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, .12);
            box-shadow: var(--shadow);
            border-radius: var(--radius);
            backdrop-filter: blur(6px);
            -webkit-backdrop-filter: blur(6px);
            padding: 28px 22px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        /* Novas anima√ß√µes de deslize */
        @keyframes pop {
            from {
                transform: translateY(6px);
                opacity: .0
            }
            to {
                transform: translateY(0);
                opacity: 1
            }
        }

        @keyframes slide-in {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slide-out {
            from {
                transform: translateX(0);
                opacity: 1;
            }
            to {
                transform: translateX(-100%);
                opacity: 0;
            }
        }

        /* Nova classe para o container de anima√ß√£o */
        .animated-content {
            animation-duration: 0.5s;
            animation-timing-function: ease-in-out;
            animation-fill-mode: forwards;
        }

        .animated-content.pop {
            animation-name: pop;
        }
        .animated-content.slide-in {
            animation-name: slide-in;
        }
        .animated-content.slide-out {
            animation-name: slide-out;
        }

        h1, h2, p {
            margin: 0 0 12px
        }
        h1 {
            font-size: clamp(24px, 3.5vw, 34px);
            line-height: 1.1
        }
        p {
            font-size: clamp(16px, 2.6vw, 19px);
            opacity: .95
        }

        /* Barra de progresso (bolinhas) */
        .dots {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin: 14px 0 4px;
        }
        .dot {
            width: 10px;
            height: 10px;
            border-radius: 99px;
            background: rgba(255, 255, 255, .35);
        }
        .dot.active {
            background: var(--accent)
        }

        /* Bot√µes Next / Voltar / Recome√ßar */
        .actions {
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 14px;
        }
        button {
            border: 0;
            border-radius: 12px;
            padding: 12px 16px;
            cursor: pointer;
            background: linear-gradient(180deg, var(--accent), #ff5f9b);
            color: #111;
            font-weight: 700;
            box-shadow: var(--shadow);
        }
        button.secondary {
            background: #fff;
            color: #111;
            font-weight: 600;
        }
        button.ghost {
            background: transparent;
            color: #fff;
            border: 1px solid rgba(255, 255, 255, .5);
        }

        /* Altera√ß√µes para imagem e texto lado a lado */
        .final {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 14px;
        }
        .media-content {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 14px;
        }
        .final img {
            width: 70%;
            max-height: 400px;
            border-radius: 16px;
            box-shadow: var(--shadow);
            object-fit: contain;
        }
        .caption {
            flex-grow: 1;
            text-align: left;
            background: rgba(0, 0, 0, .55);
            padding: 10px 14px;
            border-radius: 12px;
            font-size: clamp(14px, 2.4vw, 18px);
            border: 1px solid rgba(255, 255, 255, .12);
        }

        /* Player flutuante (YouTube/Spotify + controle) */
        .player {
            position: fixed;
            right: 12px;
            bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 0, 0, .58);
            border: 1px solid rgba(255, 255, 255, .12);
            padding: 8px 10px;
            border-radius: 14px;
            box-shadow: var(--shadow);
            backdrop-filter: blur(6px);
        }
        .player button {
            padding: 8px 12px;
            border-radius: 10px;
            box-shadow: none;
        }
        .player small {
            opacity: .85
        }

        /* Responsividade para telas menores */
        @media (max-width: 600px) {
            .card {
                padding: 22px 16px
            }
            .media-content {
                flex-direction: column;
                text-align: center;
            }
            .final img {
                width: min(80vw, 300px);
                max-height: none;
            }
            .caption {
                text-align: center;
                max-width: 90vw;
            }
        }
    </style>
</head>
<body>

<div class="wrap">
    <div id="card" class="card" role="dialog" aria-live="polite" aria-label="Mensagens de amor">
    </div>
</div>

<div class="scrim" aria-hidden="true"></div>

<div class="player" id="playerBox">
    <button id="playBtn" class="secondary" title="Tocar / Retomar m√∫sica">‚ñ∂Ô∏è Tocar</button>
    <button id="muteBtn" class="ghost" title="Silenciar / Ativar som">üîà Som</button>
    <small id="playerStatus">m√∫sica pronta</small>
</div>

<audio id="audioPlayer" loop>
    <source src="https://docs.google.com/uc?export=download&id=170YP2_ssLmECZnErMhOq3ApUejFjRmsy" type="audio/mpeg">
</audio>

<script>
    /* =========================================================
       üîß CONFIGURA√á√ïES ‚Äî TROQUE AQUI SEUS TEXTOS, IMAGENS E LINKS
       ========================================================= */

    const TEXTINHOS = [
        // >>>>> TROQUE ESTES TEXTOS <<<<<
        "Desde que voc√™ chegou, minha vida tem significado. üíñ",
        "Sua risada √© o meu som preferido.",
        "Obrigado por ser a luz nos meus dias nublados.",
        "Com voc√™, at√© o sil√™ncio tem melodia.",
        "Obrigado por ser meu lugar favorito no mundo. ‚ú®"
    ];

    const TITULO_INICIO = "Eu te amo, minha linlin";
    const SUBTITULO_INICIO = "Passe as janelas se tiver pronta! üòâ";

    const TEXTO_FINAL_LEGENDA =
        // >>>>> TROCAR AQUI A LEGENDA FINAL <<<<<
        "Eu te amo infinitamente. Aceita... üíû";

    // >>>>> TROCAR AQUI A IMAGEM FINAL (aparece ap√≥s os textos) <<<<<
    const IMAGEM_FINAL_URL = "https://i.ibb.co/7d6BSp4T/noix1.jpg";


    /* =========================================================
       L√ìGICA DO CARROSSEL / JANELAS
       ========================================================= */
    const card = document.getElementById("card");
    let i = -1; // -1 mostra tela de abertura; depois 0..n-1
    let total = TEXTINHOS.length;

    function el(tag, text, cls) {
        const e = document.createElement(tag);
        if (cls) e.className = cls;
        if (text) e.innerText = text;
        return e;
    }

    function btn(label, onClick, type) {
        const b = document.createElement("button");
        if (type) b.classList.add(type);
        b.textContent = label;
        b.addEventListener("click", onClick);
        return b;
    }

    function buildDots(activeIndex) {
        const dots = el("div", "", "dots");
        const count = Math.max(total, 3); // sempre umas bolinhas pra est√©tica
        for (let d = 0; d < count; d++) {
            const dot = el("div", "", "dot");
            if (d === activeIndex) {
                dot.classList.add("active");
            }
            dots.append(dot);
        }
        return dots;
    }

    function buildActions(opts) {
        const bar = el("div", "", "actions");
        if (opts.start) {
            bar.append(btn("Come√ßar üíå", () => {
                i = 0;
                render()
            }));
        } else {
            if (opts.hasPrev) bar.append(btn("Voltar", () => {
                i--;
                render()
            }, "secondary"));
            if (opts.hasNext) bar.append(btn("Next ‚ûú", () => {
                i++;
                render()
            }));
            if (opts.finish) bar.append(btn("Finalizar ‚ú®", () => {
                i++;
                render()
            }));
            if (opts.restart) bar.append(btn("Recome√ßar ‚ü≤", () => {
                i = -1;
                render()
            }, "secondary"));
        }
        return bar;
    }

    // Fun√ß√£o auxiliar para gerar o conte√∫do, mas sem renderizar
    function buildContent(isInitial, index) {
        const wrap = document.createElement("div");
        wrap.classList.add("animated-content");

        if (isInitial) {
            // Tela de abertura
            const h1 = el("h1", TITULO_INICIO);
            const p = el("p", SUBTITULO_INICIO);
            const dots = buildDots(-1);
            const actions = buildActions({
                start: true
            });
            wrap.append(h1, p, dots, actions);
            wrap.classList.add("pop"); // Usa a anima√ß√£o "pop" para a tela inicial
        } else if (index < total) {
            // Telas intermedi√°rias
            const h2 = el("h2", `üíü ${index+1} / ${total}`);
            const p = el("p", TEXTINHOS[index]);
            const dots = buildDots(index);
            const actions = buildActions({
                hasPrev: index > 0,
                hasNext: index < total - 1,
                finish: index === total - 1
            });
            wrap.append(h2, p, dots, actions);
            wrap.classList.add("slide-in");
        } else {
            // Tela final (imagem + legenda)
            const box = el("div", "", "final");
            const mediaContent = el("div", "", "media-content");
            const img = document.createElement("img");
            img.src = IMAGEM_FINAL_URL;
            img.alt = "Nossa foto";

            const caption = el("div", TEXTO_FINAL_LEGENDA, "caption");
            const actions = buildActions({
                restart: true
            });

            mediaContent.append(img, caption);
            box.append(mediaContent, actions);
            wrap.append(box);
            wrap.classList.add("slide-in");
        }

        return wrap;
    }

    // A nova fun√ß√£o render, que gerencia a anima√ß√£o
    function render() {
        // Se j√° houver conte√∫do, remove-o com a anima√ß√£o de sa√≠da
        if (card.children.length > 0) {
            const oldContent = card.children[0];
            oldContent.classList.add("slide-out");

            // Adiciona o novo conte√∫do apenas depois que a anima√ß√£o de sa√≠da terminar
            oldContent.addEventListener("animationend", () => {
                card.innerHTML = "";
                card.append(buildContent(i < 0, i));
                card.focus();
            }, {
                once: true
            }); // Executa o listener apenas uma vez
        } else {
            // Se for a primeira vez, apenas renderiza o conte√∫do inicial
            card.append(buildContent(i < 0, i));
            card.focus();
        }
    }

    // Navega√ß√£o por teclado (‚Üê ‚Üí espa√ßo/enter)
    window.addEventListener("keydown", (ev) => {
        if (ev.key === "ArrowRight" || ev.key === " " || ev.key === "Enter") {
            ev.preventDefault();
            if (i < total) {
                i++;
                render();
            }
        }
        if (ev.key === "ArrowLeft") {
            ev.preventDefault();
            if (i >= 0) {
                i--;
                render();
            }
        }
    });

    // Inicia
    document.addEventListener('DOMContentLoaded', () => {
        render();
    });


    /* =========================================================
       M√öSICA ‚Äî Player HTML5
       ========================================================= */
    const audioPlayer = document.getElementById("audioPlayer");
    const playBtn = document.getElementById("playBtn");
    const muteBtn = document.getElementById("muteBtn");
    const statusLbl = document.getElementById("playerStatus");

    let muted = true;

    // Tenta iniciar a m√∫sica em modo mudo automaticamente
    function startAudio() {
        audioPlayer.muted = true;
        audioPlayer.play()
            .then(() => {
                // Autoplay bem-sucedido
                statusLbl.textContent = "m√∫sica pronta (autom√°tica)";
                muteBtn.textContent = "üîá Mudo";
            })
            .catch(() => {
                // Autoplay bloqueado
                statusLbl.textContent = "m√∫sica pronta (clique para tocar)";
                playBtn.classList.add("secondary");
            });
    }

    playBtn.addEventListener("click", () => {
        if (audioPlayer.paused) {
            audioPlayer.play();
            playBtn.textContent = "‚ùö‚ùö Pausar";
            statusLbl.textContent = "tocando agora";
        } else {
            audioPlayer.pause();
            playBtn.textContent = "‚ñ∂Ô∏è Tocar";
            statusLbl.textContent = "pausada";
        }
    });

    muteBtn.addEventListener("click", () => {
        if (audioPlayer.muted) {
            audioPlayer.muted = false;
            muteBtn.textContent = "üîà Som";
            statusLbl.textContent = "com som";
        } else {
            audioPlayer.muted = true;
            muteBtn.textContent = "üîá Mudo";
            statusLbl.textContent = "muda";
        }
    });

    document.addEventListener('DOMContentLoaded', startAudio);
</script>
</body>
</html>